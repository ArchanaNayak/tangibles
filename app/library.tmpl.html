<md-dialog aria-label="Edit Tangible Library" style="width: 80%; height: 70%" elem-ready="onLibraryPopupLoaded()">
    <form>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2><div>Edit Library</div></h2>

                <h2>
                    <md-input-container >
                        <input style="color: white; padding-top: 25px; padding-left: 10px;" ng-model="selectedLibrary.name">
                    </md-input-container>
                </h2>

                <span flex></span>
                <md-button class="md-icon-button" ng-click="closeDialog()">
                    <md-icon md-svg-src="img/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <md-list>
                <md-subheader class="md-no-sticky">Tangibles</md-subheader>
                <md-list-item ng-repeat="tangible in selectedLibrary.tangibles" ng-click="editTangible(tangible, $event)">
                    <div class="horizontal tangible-icon-container">
                        <div class="vertical">
                            <img class="tangible-icon" ng-src="{{'data:image/png;base64,' + selectedLibrary._attachments[tangible.image].data}}" />
                        </div>
                    </div>
                    <p>{{ tangible.name }}</p>
                    <md-icon class="md-secondary" ng-click="removeTangible(tangible)" aria-label="Delete" md-svg-icon="img/ic_close_24px.svg"></md-icon>
                </md-list-item>
            </md-list>
        </md-dialog-content>
        <md-sidenav id="sidenav" class="md-sidenav-right md-whiteframe-z2" md-component-id="right">
            <md-toolbar class="md-theme-light">
                <h2 class="md-toolbar-tools">Edit Tangible</h2>
            </md-toolbar>
            <md-content >
                <form>
                    <md-input-container style="margin: 10px;">
                        <label for="name">Name</label>
                        <input type="text" id="name" ng-model="selectedTangible.name"  md-sidenav-focus >
                    </md-input-container>
                    <!--<md-input-container>-->
                        <div layout layout-sm="column">
                            <md-input-container style="width:33%;height: 50px;">
                                <input type="file" id="file" ng-model="file" name="file" accept=".png" base-sixty-four-input parser="imageUploaded" style="visibility: hidden;margin: 0;"/>
                                <md-button class="md-raised md-primary" ng-click="triggerImageUpload()">
                                    Choose image
                                </md-button>
                            </md-input-container>
                            <md-input-container style="width:33%;">
                                <div layout>
                                    <div flex="20" layout layout-align="center center">
                                        <span class="md-body-1">Scale</span>
                                    </div>

                                    <input required type="number" step="0.05" ng-model="selectedTangible.scale" />

                                    <!--<md-slider flex min="0" max="1" step="0.01" ng-model="selectedTangible.scale" aria-label="Scale" id="scale" class>-->
                                    <!--</md-slider>-->
                                    <!--<div flex="20" layout layout-align="center center">-->
                                        <!--<input flex type="number" ng-model="selectedTangible.scale" aria-label="Scale" aria-controls="scale" style="width:30px;">-->
                                    <!--</div>-->
                                </div>
                            </md-input-container>
                            <md-input-container style="width:33%">
                                <div layout>
                                    <div flex="20" layout layout-align="center center">
                                        <span class="md-body-1">Angle</span>
                                    </div>

                                    <input required type="number" step="1" name="rate" ng-model="selectedTangible.startAngle" min="-360" max="360" />
                                    <!--<md-slider flex min="0" max="360" ng-model="selectedTangible.startAngle" aria-label="Angle" id="angle" class>-->
                                    <!--</md-slider>-->
                                    <!--<div flex="20" layout layout-align="center center">-->
                                        <!--<input flex type="number" ng-model="selectedTangible.angle" aria-label="red" aria-controls="angle" style="width:30px;">-->
                                    <!--</div>-->
                                </div>
                            </md-input-container>
                        </div>

                    <!--<input type="text" ng-model="touchPointsError"/>-->

                    <md-input-container>
                        <div layout layout-sm="column">
                                <md-checkbox id="shit" ng-model="editLibStage.enable" aria-label="Edit touch points">
                                    Edit touch points
                                </md-checkbox>

                                 <span style="color:red; font-style: italic;white-space:nowrap;"> {{touchPointsError}}</span>

                        </div>

                        <div id="touchPoints" elem-ready="initTouchWindow()" style="max-width: 100%; height: 700px; margin: 10px; background-color: antiquewhite"></div>
                    </md-input-container>

                    <div class="md-actions" layout="row">
                        <md-button ng-click="closeSideNav()" class="md-primary">
                            Done
                        </md-button>
                    </div>
                </form>
            </md-content>
        </md-sidenav>
        <div class="md-actions" layout="row" >
            <md-button ng-click="addTangible()" class="md-primary">
                Add tangible
            </md-button>
            <span flex></span>
            <md-button ng-click="closeDialog()" class="md-primary">
                Cancel
            </md-button>
            <md-button ng-click="saveLibrary()" class="md-primary">
                Save
            </md-button>
        </div>
    </form>

</md-dialog>